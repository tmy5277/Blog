var add = (function () {
    var counter = 0;		//只在函数自执行时执行一次
    return function () {return counter += 1;}
})();   //最后这个括号代表着自执行函数，立即执行一次，在这次执行之中，定义了函数局部变量counter,赋值为0，随后返回一个函数
	//返回的这个函数是 function () {return counter += 1;}，通过表达式赋给了add,相当于add是函数对象内容是return counter += 1;

add();	//执行add函数，即function () {return counter += 1;}
add();
add();	//所以每次调用add()都是加1，


// 计数器为 3


变量 add 指定了函数自我调用的返回字值。
自我调用函数只执行一次。设置计数器为 0。并返回函数表达式。
add变量可以作为一个函数使用。                              **非常棒的部分是它可以访问函数上一层作用域的计数器。
这个叫作 JavaScript 闭包。它使得函数拥有私有变量变成可能。
计数器受匿名函数的作用域保护，只能通过 add 方法修改。


闭包就是一个函数引用另一个函数的变量，因为变量被引用着所以不会被回收，因此可以用来封装一个私有变量。这是优点也是缺点，不必要的闭包只会增加内存消耗。
或者说闭包就是子函数可以使用父函数的局部变量，还有父函数的参数。